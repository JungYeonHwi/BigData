# 통계기법 이해

## SECTION 01. 기술통계

### 02. 표본추출

1) 전수조사와 표본조사

- 전수조사 : 관심의 대사이 되는 모집단 전체를 대상으로 조사하는 것
    - 인력과 예산이 비교적 많이 소요
    - 현실적으로 집단 내 모든 단위를 조사하는 것은 불가능한 경우가 많기 때문에 대부분의 통계조사는 표본조사에 의해 이루어짐
- 표본조사 : 관심의 대상이 되는 모집단에서 표본을 추출하여 표본을 대상으로 조사를 시행하는 것
    - 기본적으로 전수조사가 정확한 결과를 도출할 수 잇으나 비용문제 등의 제약사항이 존재함, 따라서 모집단의 일부가 전체를 대표할 수 있다는 근거가 명확하다면 일부의 표본을 조사분석을 시행하고 모집단 전체의 분석겨로가로 사용 가능
    - 전수조사에 비해 비용 절감
    - 조사결과의 신속성
    - 조사규모가 크지 않기 때문에 심도 있는 조사 가능
    - 관리가 비교적 잘 되어 정확성 높음

2) 표본추출 오차 : 표본에서 선택된 대상이 모집단의 특성을 과인 대표하거나 최소 대표할 때 발생

- 과잉 대표 : 중복선택 등의 원인으로 모집단이 반복, 중복된 데이터만으로 규정되는 현상 지칭
- 최소 대표 : 실제모집단의 대표성을 나타낼 표본이 아닌 다른 데이터가 표본이 되는 현상
- 표본추출 시 표본의 크기보다는 대표성을 가지는 표본을 추출하는 것이 중요

3) 확률 표본추출 기법 : 모집단에 속하는 모든 추출단위에 대해 사전에 일정한 추출확률이 주어지는 표본 추출법

- 모든 표본들의 추출확률을 사전에 알 수 있음
- 표본자료로부터 얻어지는 추정량의 통계적 정확도를 확률적으로 나타낼 수 있음
- 단순무작위 추출
    - 통계조사에서 가장 기본이 되는 표본추출법
    - 모집단으로부터 무작위 추출하고 독립적 선택으로 편향성을 제거하여 난수를 이용하는 것이 기본
    - 모집단내의 조사단위수(N)를 파악한 다음 원하는 표본수(n) 만큼 난수를 발생시키고 그 수에 해당하는 조사단위를 표본으로 선택하는 방법
    - 추출 모집단에 대해 사전지식이 많지 않은 경우 시행하는 방법
- 계통추출
    - 모집단에서 추출간격을 설정하여 간격 사이에서 무작위로 추출하는 방법
    - 만일 전체 모집단이 N개인 집단에서 K라는 추출간격으로 뽑는다면 N/K 수만큼 표본이 선택될 수 있음(1/K 계통추출법)
- 층화추출
    - 모집단을 서로 겹치지 않게 여러 층으로 나누어 분할된 층별로 배정된 표본을 단순 임의 추출법에 따라 추출하는 방법
    - 각 집단별 분석이 필요한 분석의 경우나 모집단 전체에 대한 특성치의 효율적 추정(추론)이 필요한 경우 시행
    - 특징
        - 단순임의추출법에 비해 추정의 정도를 높일 수 있음
        - 전체 모집단에 대해 추정뿐만 아니라 각 층별로 추정결과도 얻을 수 있음
        - 모집단을 효과적으로 층화할 경우 임의표본에서 구한 추정량보다 오차가 적게 되어 추정의 정도를 높일 수 있음
        - 표본의 대표성 제고 및 조사관리가 편리하고, 조사비용이 절감
    - 층화변수
        - 모집단을 몇 개의 층으로 나누려고 할 때 각 추출단위가 어느 층에 속하는지를 구분하기 위해 기준으로 사용되는 변수
        - 사전에 모집단 단위들의 정보를 쉽게 알 수 있으면서도 조사하고자 하는 주변수와 밀접한 관련이 있는 보조 변수가 되어야 함
        - 질적 층화변수 : 변수값에 따라 층 구분
        - 양적 층화변수 : 층의 경계점을 나누는 방법 필요
    - 표본의 배분
        - 각 층 내의 추출단위들의 수 : 많으면 크게 늘림
        - 각 층 내에서 변동의 정도 : 변동의 정도가 커지면 크게 늘림
        - 각 층에서 추출단위를 조사하는데 드는 비용 : 비용증가 시 줄임
- 군집추출
    - 모집단을 차이가 없는 여러 개 군집으로 나누어 군집의 단위의 일부 또는 전체에 대한 분석 시행
    - 모집단에 대한 구체적인 추출 방법론을 정하기 어려운 경우 사용하면 편리
    - 표본크기가 같은 경우 단순 임의추출에 비해 표본 오착 증대할 가능성 있음

4) 비확률 표본추출 기법

- 각 추출단위들이 표본에 추출될 확률을 객관적으로 나타낼 수 없는 표본추출법
- 일반적으로 모집단을 정확하게 규정지을 수 없는 경우, 표본오차가 큰 문제가 되지 않는 경우, 본 조사에 앞서서 진행되는 새로운 개념에 대한 탐색적 연구 등에 사용
- 비용, 시간, 조사의 편리함 때문에 자주 사용
- 간편추출법(편의추출법)
    - 응답자를 선정하는 데 있어서 조사원 개인의 자의적인 판단에 따라 간편한 방법으로 표본을 추출하는 방법
    - 얻어진 표본이 목표모집단을 얼마나 잘 대표하는지 알 수 없고, 얻어진 통계치에 대한 통계적 정확성을 평가할 수 없음
- 판단추출법
    - 조사자가 나름의 지식과 경험에 의해 모집단을 가장 잘 대표한다고 여겨지는 표본을 주관적으로 선정하는 방법
    - 판단추출법에 의한 표본은 조사자의 주관적 판단에 의해서 표본이 추출되기 때문에 그 표본을 통해 얻은 추정치의 정확성에 대해 객관적으로 평가할 수 없음
    - 표본의 크기가 작은 경우에 조사의 오차를 좌우하는 요인은 추정량의 분산이 될 수 있음
- 할당추출법
    - 조사목적과 밀접하게 관련되어 있는 조사대상자의 연령이나 성별과 같은 변수값에 따라 모집단을 부분집단으로 구분하고, 모집단의 부분집단별 구성비율과 표본의 부분집단별 구성비율이 유사하도록 표본을 선정하는 방법
    - 비용이 적게 들고 손쉽기 때문에 단기간에 조사를 해야하는 경우에 알맞은 방법
- 눈덩이추출법
    - 접근이 어렵거나 추출틀의 작성이 곤란한 특정한 집단에 대한 조사에서 사용되는 방법
    - 먼저 해당 집단에 속하는 것을 사전에 알고 있는 사람들을 대상으로, 해당 집단에 속하는 다른 사람들을 소개받아서 조사를 진행하는 방법

### 03. 확률분포

1) 확률분포

- 기술통계 : 분석에 필요한 데이터를 요약하고 묘사, 설명하는 통계기법
- 추측(추론)통계 : 표본에 내포되어 있는 정보를 이용하여 모집단에 대한 과학적인 추론을 하는 통계기법
- 확률과 확률분포는 모집단에 대한 추측 및 추론이 얼마나 정확한지에 대한 논리적인 타당성을 제시하는 도구

2) 확률의 개념

- 통계적 현상 : 불확정 현상을 반복하여 관찰하거나 혹은 집단 안에서 대량으로 관찰하여 그 고유의 법칙성을 찾아내는 것이 가능한 현상 지칭
- 확률 실험 : 같은 조건 아래에서 반복할 수 있음, 시행의 결과는 매번 우연적으로 변하므로 예측할 수 없으나, 가능한 모든 결과의 집합을 알 수 있음, 시행을 반복할 때 낱낱의 결과는 불규칙하게 나타나지만, 반복의 수를 늘리면 어떤 규칙성이 나타나는 특징을 가질 수 있음
- 확률 : 통계적 현상의 확실함의 정도를 나타내는 척도, 랜덤 시행에서 어떠한 사건이 일어날 정도를 나타내는 사건에 할당된 수
    - 수학적 확률 : 표본공간 S의 각 사건이 일어날 가능성이 동등할 때, 사건 A에 대하여 n(A)/n(S)를 사건 A의 수학적 확률이라고 함, n(A)는 사건 A가 일어날 경우의 수, n(S)는 전체 사건에 대한 경우의 수
    - 통계적 확률 : 일반적인 자연 현상이나 사회 현상에서 일어날 가능성이 동일한 경우가 많지 않아서 수학적 확률로 구할 수 없는 경우가 대부분, 이러한 경우 사건이 일어나는 확률을 상대도수에 의해 추정, n회의 시행에서 문제의 사건이 r회 일어났다고 하면 상대도수는 r/n으로 정의
    - 어떤 시행을 n번 반복하고, 사건 A가 일어난 횟수를 rn이라고 할 때, n을 크게 함에 따라 rn/n이 일정한 p에 가까워지면, 이때 p를 사건 A의 통계적 확률이라고 함
- 사건
    - 동일한 상태로 여러 차례 반복할 수 있는 실허이만 관측을 시행이라고 하고, 시행의 겨로가로서 나타나는 것
    - 사건은 개별적으로 발생할 결과일 수도 있고, 몇 가지의 복합된 결과의 집합
    - 어떤 사건의 확률은 그 사건에 포함되어 있는 각 결과의 발생 확률의 합으로 나타냄
- 표본공간
    - 통계적 실험에서 모든 발생 가능한 실험결과들의 집합
    - 표본공간 자체는 전사건, 아무것도 포함되지 않는 사건은 공사건, 하나의 결과를 포함하는 사건은 근원사건
    - 표본공간이 S인 확률 실험에서 사건은 S의 부분집합
- 확률의 기본성질
    - 정리 1. 어떤 사건 A가 발생할 확률은 항상 0 이상이다.
    - 정리 2. 표본공간 S 사건이 발생할 확률은 1이다.
    - 정리 3. 사건 Ai또는 Aj가 발생할 확률은 Ai가 발생할 확률과 Aj가 발생할 확률을 더한 값에서 Ai와 Aj가 동시에 발생할 확률을 뺀 것이다.
    - 정리 4. A^c는 A의 여사건이며 A가 발생하지 않을 사건을 말한다.
    - 정리 5. 존재하지 않는 사건이 일어날 확률은 0이다.
    - 정리 6. Ai가 Aj의 부분집합이면, Ai가 발생할 확률은 Aj가 발생할 확률보다 작거나 같다.
- 조건부 확률 : 사건 B가 일어났다는 조건하에서 다른 사건 A가 일어날 확률
- 결합 확률(확률의 곱셈) : 사건 A와 B가 동시에 발생하는 확률
- 총확률정리 : 임의의 사건 B의 확률을 k개의 조건부 확률을 이용해서 구하는 것
    - 사전에 표본공간은 상호 배타적인 사건으로 분할적인 사건으로 분할되었다고 하면 임의의 사건 P(B)를 구할 수 있음
- 베이지안 정리
    -총확률정리를 이용하여 임의의 사건 B의 확률을 k개의 조건부 확률을 이용해 계산하면 베이지안 법칙을 이용하여 표본공간을 분할하는 k개의 상호 배타적인 사건 A1, A2, ... Ak에 대한 사후확률을 구할 수 있음
    - P(Ai)는 미리 주어진 사전확률이지만 사건 B라는 새로운 사건이 발생 시 P(Ai|B)의 확률을 구할 수 있고 이 확률이 사후확률이 됨
    - 베이지안 법칙은 사전에 어떤 사건 A에 대한 사전확률이 부여된 상태에서 어떤 사건 B에 관한 정보가 알려진 후, 그 사건 A에 대한 사후확률을 구할 수 있음

2) 확률변수

- 확률변수 : 사건의 시행의 결과(확률)를 하나의 수치로 대응시킬 때의 값(확률값)을 의미하며, 일반적으로 대문자 X로 표기
- 종류
    - 이산확률변수 : 확률변수가 취할 수 있는 값의 수가 유한한 변수
    - 연속확률변수 : 확률변수가 취할 수 있는 값의 수가 무한한 변수

3) 확률분포 : 수치로 대응된 확률변수의 개별 값들이 가지는 확률값의 분포

- 이산확률분포 : 확률변수가 취할 수 있는 값의 수가 유한한 확률분포
    - 확률질량함수 : 이산확률변수에 특정 값에 대한 확률을 나타내는 함수 f(x) = P(X = x)
- 연속확률분포 : 확률변수가 취할 수 있는 값의 수가 무한한 확률분포
    - 확률밀도함수 : 확률 변수의 분포를 나타내는 함수
- 확률분포함수 : 확률변수가 취할 수 있는 구체적인 값 하나하나를 확률공간상의 확률값으로 할당해주는 함수
    - 이산확률분포함수 : 확률변수가 이산적인 확률분포를 가지는 함수
    - 연속확률분포함수 : 확률변수가 연속적인 확률분포를 가지는 함수

4) 확률변수의 기댓값과 분산

- 기댓값 : 각 확률변수가 특정 값을 가질 확률을 가중치로 확률변수의 결과값을 평균화한 값으로 표시
- 기댓값의 성질
    - 기댓값의 선형성 : 상수 a, b와 확률변수 X에 대해서 다음 식 성립 : E(aX + b) = aE(X) + b
    - 기댓값의 덧셈법칙 : 두 확률변수 X, Y에 대하여 X+Y의 기댓값은 X의 기댓값과 Y의 기댓값을 더한 것과 같음
    - 기댓값의 곱셈법칙 : 두 확률변수 X, Y에 대하여 일반적으로 곱셈법칙이 성립하지 않음, 하지만 두 확률변수 X, Y가 독립이면 곱셈법칙 성립
- 분산 : 확률분포의 산포도(퍼짐정도)를 나타내는 측도로 기댓값에서 떨어진 거리의 제곱의 기댓값(평균)이며 Var(X)로 표시

5) 이산확률분포의 종류

- 베르누이 분포 : 결과가 성공 아니면 실패, 두 가지로 귀결되어 나오는 이산확률분포
- 이항분포 : 베르누이 시행을 n번 독립적으로 시행할 때 성공횟수를 X로 정의한 이산확률분포
- 다항분포 : 여러 개의 값을 가질 수 있는 독립 확률변수들에 대한 확률분포로, 여러 번의 독립적 시행에서 각각의 값이 특정 횟수가 나타날 확률을 정의하는 분포
- 포아송분포 : 단위 시간 안에 어떤 사건이 몇 번 발생할 것인지를 표현하는 이산확률부노
    - 단위공간이나 면적 등에도 적용 가능
    - X를 단위시간당 발생건수라고 하면 포아송분포는 평균 사건 발생수에 의해 유도 됨
    - 포아송분포는 기댓값과 분산이 동일하게 정의
- 기하분포 : 베르누이 시행에서 처음 성공까지 시도한 횟수를 분포화한 이산확률분포
- 음이항분포 : x번의 베르누이 시행에서 k번째 성공할 때까지 계속 시행하는 실험에서의 확률
- 초기하분포 : 비복원 추출에서 N개 중에 n개를 추출했을 때, 원하는 것 k개가 뽑힐 확률

6) 연속확률분포의 종류

- 연속균등분포 : 분포가 특정 범위 내에서 균등하게 나타나 있을 경우
- 지수분포 : 사건이 서로 독립적일 때, 일정 시간 동안 발생하는 사건의 횟수가 포아송분포를 따른다면, 다음 사건이 일어날 때까지의 대기시간에 대한 확률이 따르는 분포
    - 포아송과정에서 한 개의 사건이 발생할 때까지의 대기 시간
    - 포아송분포와의 관계 : 포아송분포는 단위 시간당 발생하는 사건의 횟수를 관측, 지수분포는 사건이 일어날 때까지의 대기 시간을 관측하는데 관심, 즉 지수분포는 대기시간, 포아송분포는 횟수
    - 지수분포의 무기억성질
- 정규분포
    - 평균을 중심으로 대칭이며 종모양인 확률밀도함수의 그래프
    - 정규분포의 모양과 위치는 평균과 표준편차에 의해 완전히 결정
    - 분포의 평균은 표준편차가 어떤 값을 갖더라도, 정규곡선과 X축 사이의 전체 면적은 1
    - 정규분포를 가지는 확률변수인 정규확률변수는 평균 주위의 값을 많이 취하며 평균으로부터 좌우로 표준편차의 3배 이상 떨어진 값은 거의 취하지 않음
    - 정규분포곡선은 X축에 맞닿지 않으므로 확률변수 X가 취할 수 있는 값의 범위는 -무한 < X > +무한
- 표준정규분포
    - 평균 mu = 0, 표준편차 sigma = 1이 되도록 한 정규분포
    - 정규화 : 어떤 관측치 X의 값이 그 분포의 평규넹서 표준편차 대비 얼마나 떨어져 있는지를 표준화된 정규분포 변환식에 의해서 알 수 있음 Z = (X -mu) / sigma
    - 표준정규분포표에 의해서 해당 확률변수의 확률값 계산 가능
- 감마분포 : 두 개의 매개변수를 받으며 양의 실수를 가질 수 있음
- 카이제곱분포
    - k개의 서로 독립적인 표준정규확률 변수를 각각 제곱한 다음 합해서 얻어지는 분포
    - 자유도 : k를 지칭하는 것으로 카이제곱분포의 매개변수가 됨
- 스튜던트 t 분포
    - 정규분포의 평균 측정 시 주로 사용하는 분포, 분포의 모양은 Z-분포와 유사, 종 모양으로서 t=()에 대하여 대칭을 이루는데 t-곡선의 모양을 결정하는 것은 자유도
    - 자유도 : 표본 크기 n에서 1을 뺀 것
- F 분포 : 두 개의 확률 변수 V1, V2의 자유도가 각각 k1, k2이고 서로 카이제곱분포를 따른다고 할 때 사용됨

### 04. 표본분포

1) 표본분포 : 크기 n의 확률분포의 확률변수의 분포, 하나의 표본으로부터 계산된 통계량은 여러 가지가 있으나 평균을 가장 많이 사용하므로 평균을 사용한 표본분포를 대표적으로 기술

2) 모집단 분포와 표본분포

- 모집단의 모수
    - 모집단의 평균 mu, 모집단의 표준편차 sigma
    - 모집단의 특성을 나타내는 특성값은 모수라고 정의
- 표본의 통계량
    - 표본집단의 평균 Xbar, 표본집단의 표준편차 S
    - 표본집단의 특성을 나타내는 특성값은 통계량

3) 표본평균의 표본분포 : 모집단으로부터 표본을 추출하였을 때 얻을 수 있는 모든 표본평균값(Xbar)을 확률변수로 하는 확률분포

4) 표본평균의 표본분포 통계량

- 표본평균의 표본분포의 평균 : 표본평균의 평균은 모집단 평균과 동일
- 표본평균의 표본분포의 분산(표준편차) : sigam/root(n)
- 표준오차

5) 중심극한정리 : 동일한 확률분포를 가진 독립 확률변수 n개의 평균의 분포는 n이 적당히 크다면 정규분포에 가까워진다는 정리

- 린데베르그-레비 중심극한정리
- 모집단의 분포가 무엇이든 상관없이 표본의 수가 큰 표본분포들의 표본평균의 분포가 정규분포를 이룸
- 정규분포는 다시 표본정규분포로 변환이 가능하므로 우리가 알고 있는 표준정규분포의 각종 결과를 이용하여 추정(판단) 할 수 있음

6) 표존평균의 표준화

- 표본평균 Xbar는 정규 분포의 확률변수로서 평균이 mu, 표준오차 sigma/root(n)
- 표준화 Z는 확률변수인 표본평균 Xbar가 모평균인 mu로부터 표본평균들의 표준편차인 표준오차의 몇 배만큼 떨어져 있는가 표시
- 표본평균의 구간확률 : 표준화 Z를 통해서 표본 평균을 표준화한 후 표준정규분포표를 이용하여 확률 찾기

7) 표본비율 : 크기가 N인 모집단으로부터 표본크기가 n인 표본을 추출 시 이 표본을 구성하는 n개의 개체들을 통해 조사하고자 하는 결과가 성공 또는 실패로 구분될 때, 표본을 구성하는 n개의 개체 중에서 성공으로 나타나는 개체 수의 비율

8) 표본비율의 표본분포

- 표본분포에서의 평균과 표준오차
    - 표본의 크기가 클 때, 중심극한정리에 의해 표본분포는 모비율 P(평균)이고 표준 오차가 sigamp = root(pq/n)
    - 표본크기가 클 때는 보통 np >= 5와 nq >= 5가 모두 성립할 때임
- 표본비율의 표본분포 : 표본평균의 표준화와 동일 개념

## SECTION 02. 추론 통계

### 01. 통계적 추론

1) 데이터 적재 도구

- 수집된 데이터는 빅데이터 분석을 위한 저장 시스템에 적재해야 함
- 관계형 데이터베이스, HDFS를 비롯한 분산파일시스템, NoSQL 저장 시스템에 데이터를 적재 가능
- 데이터 수집 도구를 이용한 데이터 적재
    - 플루언티드
        - 트레저 데이터에서 개발된 크로스 플랫폼 오픈소스 데이터 수집 소프트웨어
        - 사용자의 로그를 다양한 형태로 입력받아 JSON 포맷으로 변환 한 뒤 다양한 형태로 출력
    - 플럼
        - 많은 양의 로그 데이터를 효율적으로 수집, 취합, 이동하기 위한 분산형 소프트웨어
        - 로그 데이터 수집과 네트워크 트래픽 데이터, 소셜 미디어 데이터, 이메일 메시지 데이터 등 대량의 이벤트 데이터 전송을 위해 사용
    - 스크라이브
        - 수많은 서버로부터 실시간으로 스트리밍되는 로그 데이터를 집약 시키기 위한 서버
        - 클라이언트 사이드의 수정 없이 스케일링 가능하고 확장이 가능
    - 로그스태시 : 다양한 소스에서 데이터를 수집하여 변환한 후 자주 사용하는 저장소
- NoSQL DBMS가 제공하는 도구를 이용한 데이터 적재
    - 로그 수집기를 이용한 방법처럼 많은 기능을 사용할 수는 없지만, 수집한 데이터가 csv등의 텍스트 데이터라면 mongoimport와 같은 적재 도구를 사용하여 데이터 적재를 수행
    - 로그 수집 도구를 쓰는 방식처럼 데이터 수집 주기 등을 환경설정하여 사용할 수 없음
- 관계형 DBMS의 데이터를 NoSQL DBMS에서 적재
    - 기존의 운영 중이던 관계형 데이터베이스로부터 데이터를 추출하여 NoSQL 데이터베이스로 적재 가능
    - 데이터 변형이 많이 필요하면, 데이터 적재를 위한 프로그램을 작성하여 적재할 수 있고, 큰 변화 없이 적재한다면 SQLtoNoSQLimporter, Mongify 등의 도구를 사용하여 적재 가능

2) 데이터 적재 완료 테스트

- 데이터 적재 내용에 따라 체크리스트를 작성
    - 정형 데이터인 경우에는 테이블의 개숭와 속성의 개수 및 데이터 타입의 일치 여부, 레코드 수 일치 여부가 체크리스트가 될 수 있음
    - 반정형이나 비정형인 경우에는 원천 데이터의 테이블이 목적지 저장시스템에 맞게 생성되었는지, 레코드 수가 일치하는지 등이 체크리스트에 포함될 수 있음
- 데이터 테스트 케이스를 개발
    - 적재된 레코드 수를 확인하는 간단한 것 외에도 원천 데이터 중에 특정 데이터에 대해 샘플링을 해서 목적지 저장시스템에서 조회하는 테스트 케이스를 개발 가능
    - 적재한 대량 데이터의 데이터 타입, 특별히 한글 문자 등의 ASCII 코드가 아닌 문자들이 정상적으로 적재되는지 확인 필요
    - 문자열이 숫자로 이루어지면 문자열로 적재되었는지 또는 숫자인데 문자열로 적재되지는 않았는지 확인
- 체크리스트 검증 및 데이터 테스트 케이스 실행
    - 이전 단계에서 작성된 체크리스트와 테스트 케이스에 대해 검증 실행
    - 검증 결과를 분석하여 데이터 적재 결과 보고서 작성

### 02. 데이터 저장

1) 빅데이터 저장시스템 : 대용량 데이터 집합을 저장하고 관리하는 시스템으로 사용자에게 데이터 제공 신뢰성과 가용성을 보장하는 시스템

- 파일 시스템 저장방식
    - 빅데이터를 확장 가능한 분산 파일의 형태로 저장하는 방식의 대표적인 예는 Apache HDFS, 구글의 GFS 등
    - 파일 시스템 저장방식은 저사양 서버들을 활용하여 대용량, 분산, 데이터 집중형의 어플리케이션을 지원하며 사용자들에게 고성능 fault-tolerance 환경을 제공하도록 구현
- 데이터베이스 저장방식
    - 빅데이터를 저장하는 방식에는 전통적인 관계형 데이터베이스 시스템을 이용하거나 NoSQL 데이터베이스 시스템을 이요하는 방식
    - NoSQL 데이터베이스는 대용량 데이터 저장 측면에서 봤을 때, 관계형 데이터베이스보다 수평적 확장성, 데이터 복제, 간편한 API 제공, 일관성 보장 등의 장점

2) 분산 파일 시스템

- 하둡 분산파일 시스템
    - 하둡은 아파치 진영에서 분산 환경 컴퓨팅을 목표로 시작한 프로젝트로 분산처리를 위한 파일 시스템
    - HDFS는 대용량 파일을 클러스터에 여러 블록으로 분산하여 저장하며, 블록들은 마지막 블록을 제외하고 모두 크기 도일 (기본 크기 64MB)
    - HDFS는 마스터 하나와 여러 개의 슬레이브로 클러스터링 되어 구성
        - 마스터노드는 네임노드라고 하며 슬레이브를 관리하는 메타데이터와 모니터링 시스템을 운영
        - 슬레이브노드는 데이터노드라고 하며 데이터 블록을 분산처리
    - 데이터 손산을 방지하기 위해서 데이터 복제 기법 사용
- 구글 파일 시스템
    - 구글 파일 시스템은 엄청나게 많은 데이터를 보유해야하는 구글의 핵심 데이터 스토리지와 구글 검색 엔진을 위해 최적화된 분산 파일 시스템
    - 마스터, 청크 서버, 클라이언트로 구성
        - 마스터는 GFS 전체의 상태를 관리하고 통제
        - 청크서버는 물리적인 하드디스크의 실제 입출력 처리
        - 클라이언트는 파일을 읽고 쓴느 동작을 요청하는 어플리케이션
    - 파일들은 일반적인 파일 시스템에서의 클러스터들과 섹터들과 비슷하게 64MB로 고정된 크기의 청크들로 나누어서 저장됨
    - 가격이 저렴한 서버에서도 사용되도록 설계되었기 때문에 하드웨어 안정성이나 자료들의 유실에 대해서 고려하여 설계되었고 응답시간이 조금 길더라도 데이터의 높은 처리성능에 중점

3) NoSQL

- 개요
    - NoSQL 데이터베이스는 전통적인 관계형 데이터베이스보다 유연한 데이터의 저장 및 검색을 위한 매커니즘 제공
    - 대규모 데이터를 처리하기 위한 확장성, 가용성 및 높은 성능을 제공하여, 빅데이터 처리와 저장을 위한 플랫폼으로 활용
    - SQL 계열 쿼리를 지원하는 데이터베이스도 있음
- CAP 이론 : 기존 데이터 저장 구조의 한계
    - 2002년 버클리 대학의 에릭 브루어 교수가 발표한 이론
    - 분산 컴퓨팅 환경의 특징을 일관성, 가용성, 지속성 세 가지로 정의 할 수 있는데, 어떤 시스템이든 이 세 가지 특성을 동시에 만족하기 어려움
        - 일관성 : 분산 환경에서 모든 노드가 같은 시점에 같은 데이터를 보여줘야 함
        - 가용성 : 일부 노드가 다운되어도 다른 노드에 영향을 주지 않아야 함
        - 지속성 : 데이터 전송 중에 일부 데이터를 손실하더라도 시스템은 정상 동작해야 함
- NoSQL의 기술적 특성
    - 無 스키마
        - 데이터를 모델링하는 고정된 데이터 스키마 없이 키 값을 이용하여 다양한 형태의 데이터 저장 및 접근 가능
        - 데이터 저장 방식은 크게 열, 값, 문서, 그래프 등의 네 가지를 기반으로 구분
    - 탄력성
        - 시스템 일부에 장애가 발생해도 클라이언트가 시스템에 접근 가능
        - 응용 시스템의 다운 타임이 없도록 하는 동시에 대용량 데이터의 생성 및 갱신
        - 질의에 대응할 수 있도록 시스템 규모와 성능 확장이 용이하며, 입출력의 부하를 분산시키는데에도 용이한 구조
    - 질의 가능 : 수십 대에서 수천 대 규모로 구성된 시스템에서도 데이터의 특성에 맞게 효율적으로 데이터를 검색, 처리할 수 있는 질의 언어, 관련 처리 기술, API를 제공
    - 캐싱
        - 대규모 질의에도 고성능 응답 속도를 제공할 수 있는 메모리 기반 캐싱 기술을 적용하는 것이 중요
        - 개발 및 운영에도 투명하고 일관되게 적용할 수 있는 구조
- NoSQL의 데이터 모델
    - NoSQL의 데이터 저장 방식에 따라 키-값 구조, 칼럼기반 구조, 문서기반 구조로 구분
    - 키-값 데이터베이스
        - 데이터를 키와 그에 해당하는 값의 쌍으로 저장하는 데이터 모델에 기반
        - 단순한 데이터 모델에 기반을 두기 때문에 관계형 데이터베이스보다 확장성이 뛰어나고 질의 응답시간이 빠름
        - 아마존의 Dynamo 데이터베이스가 효시이며, Redis와 같은 in-memory 방식의 오픈소스 데이터베이스가 대표적
    - 열기반 데이터베이스
        - 데이터를 로우가 아닌 칼럼기반으로 저장하고 처리하는 데이터베이스
        - 칼럼과 로우는 확장성을 보장하기 위하여 여러 개의 노드로 분할되어 자장되어 관리
        - 구글의 Bigtable이 칼럼기반 데이터베이스의 효시이며, 이로부터 파생된 Cassandra, HBase, HyperTable 등이 대표적인 칼럼기반 데이터베이스
    - 문서기반 데이터베이스
        - 문서 형식의 정보를 저장, 검색, 관리하기 위한 데이터베이스
        - 키-값 데이터베이스보다, 문서의 내부 구조에 기반을 둔 복잡한 형태의 데이터 저장을 지원하고 이에 딸느 최적화가 가능하다는 장점
        - 대표적으로 MongoDB, SimpleDB, CouchDB

4) 빅데이터 저장시스템 선정을 위한 분석

- 기능성 비교분석
    - 데이터 모델
        - 데이터를 테이블로 정리하고 사용하는데 무리가 없다면, RDBMS가 필요하고 NoSQL을 사용할 필요가 없음
        - MongoDB는 RDBMS보다 한층 유연한 스키마를 활용하는 것이 가능하므로, RDBMS에서 문서 중심의 데이터 모델로 전환하는 데 도움
        - Apache CouchDB는 데이터 저장소에 대한 인터페이스로 RESTful HTTP를 지원하므로 상대적으로 웹기반 시스템을 구축하는 데 장점이 있는 document 데이터베이스 시스템
        - 단순 key-value 쌍을 저장하여 대규모 사용자와 부하 분산을 위한 안정적인 분산 저장소가 필요한 경우, Dyname나 Redis 선택
        - Casssandra, HyperTable, HBase는 column family 중심의 데이터베이스 시스템으로 극단적인 확장성을 보장할 수 있다는 장점
    - 확장성
        - 확장성에는 HBase, Cassandr, HyperTable과 같은 column-oriented 데이터베이스가 가장 뛰어남
        - Redis와 같은 인메모리 방식의 데이터베이스와 MongoDB, CouchDB와 같은 documnet 데이터베이스가 약간 뒤쳐지는 것으로 알려져 있음
    - 트랜잭션 일관성
        - 트랜잭션의 일관성은 데이터 수정, 삭제 등의 작업이 빈번하게 일어나는 환경에서는 중요도가 높지만, 배치중심의 하둡 기반 분석환경에서는 중요도가 높지 않음
        - 트랜잭션의 일관성이 중요한 분야에서는 RDBMS를 선택해야 하며, 그렇지 않을 때에만 NoSQL을 선택
    - 질의 지원
        - MongoDB는 SQL과 유사한 문법에 기반을 두어 쉽게 학습할 수 있는 우수한 질의 인터페이스 지원
        - CouchDB도 MongoDB에 비해 뒤처지지 않으며, 뷰 개념을 이해하고 활용하면 간편
        - key-value 데이터베이스의 대표 격인 Redis도 풍부한 질의기능 제공
        - HBase나 HyperTable은 자체 질의지원 기능은 제공하지 않으나 Hive를 통해 SQL과 유사한 형태의 질의기능을 사용할 수 있다는 장점
    - 접근성
        - MongoDB를 접근하기 위한 드라이버는 아주 다양하며, 현존하는 주류 라이브러리용 드라이버를 대부분 지원
        - CouchDB는 웹 통신을 지원하는 프로그래밍 언어라면 다 사용 가능
        - 기타 Redis, HBase, HyperTable, Cassandr는 대부분의 프로그래밍 언어에서 연결이 가능하도록 언어 바인딩 지원
- 분석방식 및 환경
    - 빅데이터 저장 방식은 빅데이터를 파일 시스템 형식으로 저장하는 방식, NoSQL 저장시스템을 사용하는 방식이나, RDBMS에 기반을 둔 데이터 웨어하우스 방식
    - 필요로 하는 분석 및 검색결과가 상시로 온라인 형식으로 필요한지, 분석가를 통해 별도의 프로세스를 거쳐 제공받는지 등을 구분하여 저장 방식과 환경 선택
- 분석대상 데이터 유형 : 분석대상이 되는 데이터 유형이 기업 내외부에서 발생하는 기업 데이터인가, IoT 환경에서 발생하는 데이터인가 혹은 기타 다양한 과학 분야나 바이오, 의학 분야에서 취급되는 데이터이냐에 따라 데이터의 volume, velocity, variety, veracity 등을 고려하여 빅데이터 저장시스템 선택
- 기존 시스템과의 연계
    - 저장 대상 데이터의 유형이 대부분 테이블로 정의될 수 있는 형태이고 기존에 RDBMS 기반의 데이터 웨어하우스가 도입된 형태라면 기존 시스템을 그대로 활용하여 저장
    - 기존에 HDFS만을 활용하여 빅데이터 저장시스템이 구축되어 있으나, SQL-like 분석환경을 구축하고자 한다면 HBase를 추가 도입하는 것 권장
    - 빅데이터 분석 애플리케이션 키-값 쌍 처리 위주로 시스템이 구현되어 있다면 Redis 등을 도입하는 것이 좋음
    - IoT 데이터처럼, 다양한 데이터가 지속해서 실시간 발생하는 것을 수집하는 시스템 환경이라면 key-value, 데이터베이스나 확장성이 중요한 요소라면 Cassandra와 같이 확장성이 보장된 칼럼 기반 데이터베이스를 선정하는 것이 좋음
    
5) 데이터 밠생 유형 및 특성

- 대용량 실시간 서비스 데이터 개요
    - 대상 데이터의 용량, 실시간 여부, 정형, 비정형 등 유형 및 요건을 파악하여 빅데이터 저장 계획 수립에 반영
    - 일반적으로 실시간으로 처리해야 하는 데이터를 스트리밍 데이터로 통칭하는데 대용량의 특성과 무중단 서비스를 보장하는 저장 체계를 구축
    - 실시간 데이터 처리를 위해 사용되는 시스템으로는 대표적으로 스파크, 스톰 등이 있으며 배치 기반의 대용량 데이터 처리에 특화된 하둡 시스템보다 실시간 대용량 처리에 특화
    - IoT에서 발생하는 센서 데이터, 네트워크 모니터링 데이터, 에너지 관리 분야 데이터, 통신 데이터, 웹 로그, 주식 데이터나 생산형장에서 발생하는 데이터 등이 해당
- 대용량 실시간 서비스 데이터 저장
    - 실시간 빅데이터 처리를 위해 스톰을 사용한다고 가정하면, 스톰은 저장소가 없으므로 외부 저장 시스템과의 연동 필수적
    - 다양한 소스의 로그로부터 데이터가 발생하는 환경에서는 스톰을 통하여 데이터를 전처리한 후 HDFS나 MongoDB, Cassandra, HBase와 같은 NoSQL을 저장소로 사용하거나, 데이터를 정규화하여 일반 RDBMS를 저장소로 사용
    - 대표적인 실시간 데이터 처리 시스템인 스파크 역시 내장된 저장소를 제공하지 않기 때문에 외부 빅데이터 저장 시스템과의 연계가 필수적
    - 실시간 서비스를 웹 페이지로 제공하는 것이 필요한 환경에서는 Redis와 같은 메인 메모리 저장 시스템을 저장소로 사용

6) 안정성과 신뢰성 확보 및 접근성 제어계획 수립

- 빅데이터 저장시스템 안정성 및 신뢰성 확보
    - 안정성 및 신뢰성을 확보하고 보장하기 위해 저장 계획 수립단계에서 용량산정 필요
    - 조직의 빅데이터 활용목적에 부합하는 현재와 향후 증가 추세를 추정 반영
- 접근성 제어계획 수립 : 저장 시스템의 사용자와 관리자 유형, 역할 및 기능을 정의하고 각각에 해당하는 제어계획 수립